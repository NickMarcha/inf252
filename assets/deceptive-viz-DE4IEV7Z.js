import{h as R,j as m,L as _,O as j}from"./index-Bqmpsv54.js";import{u as D}from"./useLocation-ljV-knTh.js";const C={Poster_Link:"?",Series_Title:"Categorical (nominal)",Released_Year:"Temporal (Sequential)",Certificate:"Categorical (ordinal)",Runtime:"Continuous (quantitative) · Sequential",Genre:"Categorical (nominal)",IMDB_Rating:"Continuous (quantitative) · Sequential",Overview:"Text/identifier",Meta_score:"Continuous (quantitative) · Sequential",Director:"Categorical (nominal)",Star1:"Categorical (nominal)",Star2:"Categorical (nominal)",Star3:"Categorical (nominal)",Star4:"Categorical (nominal)",No_of_Votes:"Continuous (quantitative) · Sequential",Gross:"Continuous (quantitative) · Sequential"};function y(r){return C[r]?C[r]:r.startsWith("is")&&r.length>2?"Boolean (genre flag)":"Categorical (nominal)"}function M(r){return k[r]?k[r]:r.startsWith("is")&&r.length>2?"Whether the movie has this genre.":""}const k={Poster_Link:"Link of the poster that IMDB is using.",Series_Title:"Name of the movie.",Released_Year:"Year at which that movie released.",Certificate:"Certificate earned by that movie.",Runtime:"Total runtime of the movie.",Genre:"Genre of the movie.",IMDB_Rating:"Rating of the movie at IMDB site.",Overview:"Mini story / summary.",Meta_score:"Score earned by the movie.",Director:"Name of the Director.",Star1:"Name of a star.",Star2:"Name of a star.",Star3:"Name of a star.",Star4:"Name of a star.",No_of_Votes:"Total number of votes.",Gross:"Money earned by that movie."};function S(r){if(!r)return null;const a=r.trim().match(/^(\d+)\s*min/i);return a?Number(a[1]):null}function w(r){if(!r)return null;const a=Number(r.replace(/,/g,"").trim());return Number.isNaN(a)?null:a}function I(r,a){const o=a.filter(t=>t.startsWith("is")&&t.length>2),f=a.filter(t=>!t.startsWith("is")||t.length<=2).map(t=>{const c=r.map(e=>e[t]?.trim()).filter(e=>e!=null&&e!==""),u=r.length-c.length;if(t==="Released_Year"){const e=c.map(Number).filter(n=>!Number.isNaN(n));if(e.length){const n=Math.min(...e),i=Math.max(...e);return{name:t,type:y(t),description:M(t),temporal:{min:n,max:i,range:`${n} – ${i}`}}}}if(t==="Runtime"){const e=r.map(n=>S(n[t]??"")).filter(n=>n!=null);if(e.length){const n=[...e].sort((h,g)=>h-g),i=Math.floor(n.length/2),d=n.length%2?n[i]:(n[i-1]+n[i])/2,v=e.reduce((h,g)=>h+g,0);return{name:t,type:y(t),description:M(t),numeric:{min:Math.min(...e),max:Math.max(...e),range:`${Math.min(...e)} – ${Math.max(...e)} min`,mean:Math.round(v/e.length*10)/10,median:Math.round(d*10)/10,count:e.length,missing:u}}}}if(["IMDB_Rating","Meta_score","No_of_Votes"].includes(t)){const e=c.map(n=>Number(t==="No_of_Votes"?n.replace(/,/g,""):n)).filter(n=>!Number.isNaN(n));if(e.length){const n=[...e].sort((p,b)=>p-b),i=Math.floor(n.length/2),d=n.length%2?n[i]:(n[i-1]+n[i])/2,h=e.reduce((p,b)=>p+b,0)/e.length,g=t==="No_of_Votes"?p=>p.toLocaleString():p=>p.toFixed(1);return{name:t,type:y(t),description:M(t),numeric:{min:Math.min(...e),max:Math.max(...e),range:`${g(Math.min(...e))} – ${g(Math.max(...e))}`,mean:t==="No_of_Votes"?Math.round(h):Math.round(h*100)/100,median:t==="No_of_Votes"?Math.round(d):Math.round(d*100)/100,count:e.length,missing:u}}}}if(t==="Gross"){const e=r.map(n=>w(n[t]??"")).filter(n=>n!=null);if(e.length){const n=[...e].sort((g,p)=>g-p),i=Math.floor(n.length/2),d=n.length%2?n[i]:(n[i-1]+n[i])/2,v=e.reduce((g,p)=>g+p,0),h=g=>g.toLocaleString();return{name:t,type:y(t),description:M(t),numeric:{min:Math.min(...e),max:Math.max(...e),range:`${h(Math.min(...e))} – ${h(Math.max(...e))}`,mean:Math.round(v/e.length),median:Math.round(d),count:e.length,missing:u}}}}if(t==="Genre"){const e=c.flatMap(i=>i.split(",").map(d=>d.trim()).filter(Boolean)),n=[...new Set(e)];return{name:t,type:y(t),description:M(t),categorical:{distinct:n.length,sample:n.slice(0,8)}}}const l=new Set(c).size,N=[...new Set(c)].slice(0,5);return{name:t,type:y(t),description:M(t),categorical:{distinct:l,sample:N,sampleAsImages:t==="Poster_Link"}}});if(o.length===0)return f;const x={name:"Genre (boolean flags)",type:"Boolean (genre flag)",description:"Whether the movie has each genre. One column per genre (isDrama, isCrime, …).",genreFlags:{flags:o.map(t=>({name:t,trueCount:r.filter(c=>c[t]==="true").length}))}};return[...f,x]}const G=["Released_Year","Runtime","IMDB_Rating","Meta_score","No_of_Votes","Gross"];function L(r,a){const o=r[a];if(o==null||o==="")return null;if(a==="Runtime")return S(o);if(a==="Gross")return w(o);if(a==="No_of_Votes")return Number(o.replace(/,/g,""))||null;const s=Number(o);return Number.isNaN(s)?null:s}function V(r,a){const o=Math.min(r.length,a.length);if(o<2)return 0;const s=r.reduce((t,c)=>t+c,0)/o,f=a.reduce((t,c)=>t+c,0)/o;let x=0;for(let t=0;t<o;t++)x+=(r[t]-s)*(a[t]-f);return x/(o-1)}function $(r,a){const s=[...G.filter(u=>a.includes(u)),...a.filter(u=>u.startsWith("is"))],f=s.map(u=>r.map(l=>l[u]==="true"?1:l[u]==="false"?0:L(l,u))),x=s.map((u,l)=>s.map((N,e)=>{const n=[],i=[];for(let d=0;d<r.length;d++){const v=f[l][d],h=f[e][d];v!=null&&h!=null&&(n.push(v),i.push(h))}return V(n,i)})),t=s.map((u,l)=>Math.sqrt(Math.max(0,x[l][l])));return{matrix:s.map((u,l)=>s.map((N,e)=>{const n=t[l],i=t[e];return n<1e-10||i<1e-10?l===e?1:0:x[l][e]/(n*i)})),columns:s}}function B({id:r,title:a,children:o,defaultOpen:s=!0,sectionClassName:f="",open:x,onToggle:t}){const[c,u]=R.useState(s),l=x!==void 0&&t!=null,N=l?x:c,e=l?t:()=>u(n=>!n);return m.jsxs("section",{id:r,className:`rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800/50 ${f}`.trim(),children:[m.jsxs("button",{type:"button",onClick:e,className:"flex w-full items-center justify-between gap-2 px-5 py-3 text-left hover:bg-gray-100/80 dark:hover:bg-gray-700/50 rounded-t-lg transition-colors","aria-expanded":N,children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a}),m.jsx("span",{className:"shrink-0 text-gray-500 dark:text-gray-400 transition-transform duration-300 ease-out",style:{transform:N?"rotate(180deg)":"rotate(0deg)"},"aria-hidden":!0,children:"▼"})]}),m.jsx("div",{className:"grid transition-[grid-template-rows] duration-300 ease-out",style:{gridTemplateRows:N?"1fr":"0fr"},children:m.jsx("div",{className:"min-h-0 overflow-hidden",children:m.jsx("div",{className:"px-5 pb-5 pt-0",children:o})})})]})}function T(){const a=D().pathname,o=!a.includes("data-exploration")&&!a.includes("visualization"),s=a.includes("data-exploration"),f=a.includes("visualization");return m.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[m.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900 dark:text-white",children:"Programming Exercise 02: Deceptive Visualization"}),m.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:"Dataset: IMDB Top 1000. Explore the data, then build honest and misleading visualizations from the same dataset."}),m.jsxs("div",{className:"mb-6 flex gap-1 rounded-lg border border-gray-200 bg-gray-100 p-1 dark:border-gray-700 dark:bg-gray-800",children:[m.jsx(_,{to:"/assignments/deceptive-viz",className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${o?"bg-white text-gray-900 shadow dark:bg-white/10 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"}`,children:"Assignment brief"}),m.jsx(_,{to:"/assignments/deceptive-viz/data-exploration",className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${s?"bg-white text-gray-900 shadow dark:bg-white/10 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"}`,children:"Data exploration"}),m.jsx(_,{to:"/assignments/deceptive-viz/visualization",className:`rounded-md px-4 py-2 text-sm font-medium transition-colors ${f?"bg-white text-gray-900 shadow dark:bg-white/10 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"}`,children:"Visualization (task)"})]}),m.jsx(j,{})]})}export{B as CollapsibleSection,T as component,I as computeColumnStats,$ as computeCorrelationMatrix};
